# ブランチ運用メモ（仮）

GitHubを用いたブランチ運用方法についてメモ的にまとめます。すべて仮案です。

## 1. ブランチ運用概要とブランチの種類

### 1.1 ブランチ運用概要

GitHub上でのブランチ運用案として仮に以下のフローを記載しておきます。

![ブランチ運用案](./BranchGuide_Flow.jpg)

いちおう、（ほとんど意味はないでしょうが）developブランチに中間で作成した文書をマージできるようにしておきます。

### 1.2 ブランチの種類

上記運用フローを踏まえたブランチの種類は以下となります。

| ブランチ名（種類名） | 位置づけ |
|:----|:--------|
| masterブランチ | オーム社さん側でのレビューが完了したデータをこちらに置きます。 |
| feature/chXXブランチ | XXは各章No。各章の担当者が作業用に使う。 |
| review/chXXブランチ  | XXは各章No。各章がレビュー可能となった際にオーム社に依頼するのはこちらとします。 |
| developブランチ | 作業途中のデータを好きにマージしてよい場所とします。中間進捗確認用程度。 |


## 2. 翻訳時のブランチ運用方法

各担当者は自分の担当章のfeature/chXX（XXに章番号を入れる）を作成し、そのブランチで作業ください。半分ほどできた段階でdevelopにマージいただく、という手続は任意で行ってください。担当者の作業範囲をすべて1つのfeatureブランチとしてもよいです。ただ、reviewブランチは1つずつとして頂いた方がわかりやすいと思います。

各章の翻訳完了した場合には、該当のreviewブランチをオーム社石田さんに連絡して確認していただきます。オーム社側では、こちらのリポジトリをFolkしてプルリク形式でレビュー結果を送付していただく予定です。featureとreviewは分けておいた方が作業がやりやすい人は分けておいた方がよいです。

翻訳チーム側のレビューや修正を行う場合のプルリクなどの方法については各自におまかせします。

なお、各章の作業の進め方は[こちら](../process/README.md)も確認ください。


## 3. オーム社さんレビュー時のブランチ運用方法

各章の翻訳完了した場合には、該当のreviewブランチをオーム社石田さんに連絡して確認していただきます。

### 3.1 レビュー時の流れ

- （翻訳担当者が）プルリクエスト後、オーム社さん（石田さん）に連絡する
    - 「レビュー対象のブランチ/章データ」の連絡を入れる
- （オーム社石田さんが）Folkした内容でレビューする（指摘を書き込む）
- （オーム社石田さんが）レビュー結果をプルリクする
- （翻訳担当者が）プルリクの内容を確認して文書を修正する


## 4. 環境改善方法（設定ファイル、マニュアル）

本文書のようなマニュアル、.textlintrcのような設定ファイルはmasterへ直接更新ください。
textlint関連のファイルは他の章へ影響してしまう可能性があるため、更新前に各章のlintを実施して問題がないか確認することを推奨します。

なお、textlint設定の調整方法に関しては、[こちら](../textlint/README.md)の「3. textlintルール対応参考（緩和方法、追加方法など）」を確認ください。
